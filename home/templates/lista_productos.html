{% extends 'base.html' %}
{% load static %}

{% block title %}Cat√°logo - EntertainPet{% endblock %}

{% block content %}
  <div class="catalog-header">
    <h1>Cat√°logo</h1>
  </div>

  <div class="products-grid container">
    {% for p in productos %}
      <div class="card">
        <div class="imagen-placeholder">
          {% if p.imagenes.first %}
            <img src="{{ p.imagenes.first.imagen }}" alt="{{ p.nombre }}" style="width:100%;height:100%;object-fit:cover;border-radius:6px">
          {% else %}
            üñºÔ∏è
          {% endif %}
        </div>

        <h4>{{ p.nombre }}</h4>
        <div class="price">{{ p.precio_final }} ‚Ç¨</div>

        <a href="{% url 'home:producto_detalle' p.pk %}" class="detalle-link">Ver detalle</a>

        <form action="{% url 'home:carrito_add' p.pk %}" method="post">
          {% csrf_token %}
          <button type="submit" class="add-btn">A√±adir</button>
        </form>
      </div>
    {% empty %}
      <div style="background:#fff7e6;border:1px dashed #f0c36d;padding:12px;border-radius:8px;margin-bottom:12px">
        <strong>Datos de prueba ‚Äî Ejemplos visuales</strong>
        <p style="margin:6px 0 0; color:#666">No hay productos reales en la base de datos. A continuaci√≥n se muestran elementos de prueba para visualizar el dise√±o.</p>
      </div>

      <!-- Productos de ejemplo (datos falsos) -->
      <div class="card">
        <div class="imagen-placeholder">üß∏</div>
        <h4>Juguete de peluche (DEMO)</h4>
        <div class="price">12.99 ‚Ç¨</div>
        <a class="detalle-link" href="#">Ver detalle</a>
        <form action="#" method="post">
          <button type="button" class="add-btn">A√±adir (demo)</button>
        </form>
      </div>

      <div class="card">
        <div class="imagen-placeholder">ü¶¥</div>
        <h4>Hueso de goma (DEMO)</h4>
        <div class="price">7.50 ‚Ç¨</div>
        <a class="detalle-link" href="#">Ver detalle</a>
        <form action="#" method="post">
          <button type="button" class="add-btn">A√±adir (demo)</button>
        </form>
      </div>

      <div class="card">
        <div class="imagen-placeholder">üêü</div>
        <h4>Rat√≥n de tela (DEMO)</h4>
        <div class="price">5.00 ‚Ç¨</div>
        <a class="detalle-link" href="#">Ver detalle</a>
        <form action="#" method="post">
          <button type="button" class="add-btn">A√±adir (demo)</button>
        </form>
      </div>
    {% endfor %}
  </div>

{% endblock %}
